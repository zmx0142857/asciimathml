var asciimath;!function(){const s=asciimath={katexpath:"katex.min.js",onload:()=>e(document.body),fixepsi:!0,fixphi:!0,delim1:"`",displaystyle:!0,viewsource:!1,...asciimath||{},define:[[/dx/g,'{:"d"x:}'],[/dy/g,'{:"d"y:}'],[/dz/g,'{:"d"z:}'],[/dt/g,'{:"d"t:}'],[/√/g,"sqrt"],[/part(\^\S*)?\s+(\S+)\s+(\([^)]*\)|\S+)/g,(t,e,u,p)=>`(del${e=e||""} ${u})/(del ${p="("===p[0]?p.slice(1,-1).split(/\s+/).join(" del "):p})`],...asciimath&&asciimath.define||[]],names:{},str:void 0,begin:void 0},o=[{input:"alpha",tag:"mi",output:"α",ttype:0},{input:"beta",tag:"mi",output:"β",ttype:0},{input:"gamma",tag:"mi",output:"γ",ttype:0},{input:"Gamma",tag:"mo",output:"Γ",ttype:0},{input:"delta",tag:"mi",output:"δ",ttype:0},{input:"Delta",tag:"mtext",output:"Δ",ttype:0},{input:"epsi",tag:"mi",output:s.fixepsi?"ε":"ϵ",tex:s.fixepsi?"varepsilon":"epsilon",ttype:0,notexcopy:!0},{input:"epsilon",tag:"mi",output:s.fixepsi?"ε":"ϵ",tex:s.fixepsi?"varepsilon":"epsilon",ttype:0,notexcopy:!0},{input:"varepsilon",tag:"mi",output:s.fixepsi?"ϵ":"ε",tex:s.fixepsi?"epsilon":"varepsilon",ttype:0,notexcopy:!0},{input:"zeta",tag:"mi",output:"ζ",ttype:0},{input:"eta",tag:"mi",output:"η",ttype:0},{input:"theta",tag:"mi",output:"θ",ttype:0},{input:"Theta",tag:"mo",output:"Θ",ttype:0},{input:"vartheta",tag:"mi",output:"ϑ",ttype:0},{input:"iota",tag:"mi",output:"ι",ttype:0},{input:"kappa",tag:"mi",output:"κ",ttype:0},{input:"lambda",tag:"mi",output:"λ",ttype:0},{input:"Lambda",tag:"mo",output:"Λ",ttype:0},{input:"mu",tag:"mi",output:"μ",ttype:0},{input:"nu",tag:"mi",output:"ν",ttype:0},{input:"xi",tag:"mi",output:"ξ",ttype:0},{input:"Xi",tag:"mo",output:"Ξ",ttype:0},{input:"pi",tag:"mi",output:"π",ttype:0},{input:"Pi",tag:"mo",output:"Π",ttype:0},{input:"rho",tag:"mi",output:"ρ",ttype:0},{input:"sigma",tag:"mi",output:"σ",ttype:0},{input:"Sigma",tag:"mo",output:"Σ",ttype:0},{input:"tau",tag:"mi",output:"τ",ttype:0},{input:"upsilon",tag:"mi",output:"υ",ttype:0},{input:"phi",tag:"mi",output:s.fixphi?"ϕ":"φ",tex:s.fixphi?"phi":"varphi",ttype:0,notexcopy:!0},{input:"varphi",tag:"mi",output:s.fixphi?"φ":"ϕ",tex:s.fixphi?"varphi":"phi",ttype:0,notexcopy:!0},{input:"Phi",tag:"mo",output:"Φ",ttype:0},{input:"chi",tag:"mi",output:"χ",ttype:0},{input:"psi",tag:"mi",output:"ψ",ttype:0},{input:"Psi",tag:"mi",output:"Ψ",ttype:0},{input:"omega",tag:"mi",output:"ω",ttype:0},{input:"Omega",tag:"mo",output:"Ω",ttype:0},{input:"*",tag:"mo",output:"⋅",tex:"cdot",ttype:0},{input:"**",tag:"mo",output:"∗",tex:"ast",ttype:0},{input:"***",tag:"mo",output:"⋆",tex:"star",ttype:0},{input:"//",tag:"mo",output:"/",tex:"{/}",ttype:0,nobackslash:!0},{input:"\\\\",tag:"mo",output:"\\",tex:"backslash",ttype:0},{input:"setminus",tag:"mo",output:"\\",ttype:0},{input:"xx",tag:"mo",output:"×",tex:"times",ttype:0},{input:"|><",tag:"mo",output:"⋉",tex:"ltimes",ttype:0},{input:"><|",tag:"mo",output:"⋊",tex:"rtimes",ttype:0},{input:"|><|",tag:"mo",output:"⋈",tex:"bowtie",ttype:0},{input:"-:",tag:"mo",output:"÷",tex:"div",ttype:0},{input:"@",tag:"mo",output:"∘",tex:"circ",ttype:0},{input:"o+",tag:"mo",output:"⊕",tex:"oplus",ttype:0},{input:"ox",tag:"mo",output:"⊗",tex:"otimes",ttype:0},{input:"o.",tag:"mo",output:"⊙",tex:"odot",ttype:0},{input:"sum",tag:"mo",output:"∑",ttype:7},{input:"prod",tag:"mo",output:"∏",ttype:7},{input:"^^",tag:"mo",output:"∧",tex:"wedge",ttype:0},{input:"^^^",tag:"mo",output:"⋀",tex:"bigwedge",ttype:7},{input:"vv",tag:"mo",output:"∨",tex:"vee",ttype:0},{input:"vvv",tag:"mo",output:"⋁",tex:"bigvee",ttype:7},{input:"nn",tag:"mo",output:"∩",tex:"cap",ttype:0},{input:"nnn",tag:"mo",output:"⋂",tex:"bigcap",ttype:7},{input:"uu",tag:"mo",output:"∪",tex:"cup",ttype:0},{input:"uuu",tag:"mo",output:"⋃",tex:"bigcup",ttype:7},{input:"!=",tag:"mo",output:"≠",tex:"ne",ttype:0},{input:":=",tag:"mo",output:":=",ttype:0,nobackslash:!0},{input:"lt",tag:"mo",output:"<",ttype:0},{input:"<=",tag:"mo",output:"≤",tex:"le",ttype:0},{input:"lt=",tag:"mo",output:"≤",tex:"leq",ttype:0},{input:"gt",tag:"mo",output:">",ttype:0},{input:">=",tag:"mo",output:"≥",tex:"ge",ttype:0},{input:"gt=",tag:"mo",output:"≥",tex:"geq",ttype:0},{input:"-<",tag:"mo",output:"≺",tex:"prec",ttype:0},{input:"-lt",tag:"mo",output:"≺",ttype:0},{input:">-",tag:"mo",output:"≻",tex:"succ",ttype:0},{input:"-<=",tag:"mo",output:"⪯",tex:"preceq",ttype:0},{input:">-=",tag:"mo",output:"⪰",tex:"succeq",ttype:0},{input:"in",tag:"mo",output:"∈",ttype:0},{input:"!in",tag:"mo",output:"∉",tex:"notin",ttype:0},{input:"sub",tag:"mo",output:"⊂",tex:"subset",ttype:0},{input:"sup",tag:"mo",output:"⊃",tex:"supset",ttype:0},{input:"sube",tag:"mo",output:"⊆",tex:"subseteq",ttype:0},{input:"supe",tag:"mo",output:"⊇",tex:"supseteq",ttype:0},{input:"-=",tag:"mo",output:"≡",tex:"equiv",ttype:0},{input:"~=",tag:"mo",output:"≅",tex:"cong",ttype:0},{input:"~",tag:"mo",output:"~",tex:"sim",ttype:0},{input:"~~",tag:"mo",output:"≈",tex:"approx",ttype:0},{input:"prop",tag:"mo",output:"∝",tex:"propto",ttype:0},{input:"complement",tag:"mo",output:"complement",ttype:0},{input:"if",tag:"mtext",output:"if",ttype:6},{input:"otherwise",tag:"mtext",output:"otherwise",ttype:6},{input:"and",tag:"mtext",output:"and",ttype:6},{input:"or",tag:"mtext",output:"or",ttype:6},{input:"not",tag:"mo",output:"¬",tex:"neg",ttype:0},{input:"=>",tag:"mo",output:"⇒",tex:"implies",ttype:0},{input:"<=>",tag:"mo",output:"⇔",tex:"iff",ttype:0},{input:"AA",tag:"mo",output:"∀",tex:"forall",ttype:0},{input:"EE",tag:"mo",output:"∃",tex:"exists",ttype:0},{input:"_|_",tag:"mo",output:"⊥",tex:"bot",ttype:0},{input:"TT",tag:"mo",output:"⊤",tex:"top",ttype:0},{input:"|--",tag:"mo",output:"⊢",tex:"vdash",ttype:0},{input:"|==",tag:"mo",output:"⊨",tex:"models",ttype:0},{input:"(",tag:"mo",output:"(",ttype:4},{input:")",tag:"mo",output:")",ttype:5},{input:"[",tag:"mo",output:"[",ttype:4},{input:"]",tag:"mo",output:"]",ttype:5},{input:"{",tag:"mo",output:"{",tex:"lbrace",ttype:4},{input:"}",tag:"mo",output:"}",tex:"rbrace",ttype:5},{input:"|",tag:"mo",output:"|",ttype:9},{input:"(:",tag:"mo",output:"〈",tex:"langle",ttype:4},{input:":)",tag:"mo",output:"〉",tex:"rangle",ttype:5},{input:"<<",tag:"mo",output:"〈",ttype:4},{input:">>",tag:"mo",output:"〉",ttype:5},{input:"{:",tag:"mo",output:"{:",ttype:4,invisible:!0},{input:":}",tag:"mo",output:":}",ttype:5,invisible:!0},{input:"int",tag:"mo",output:"∫",ttype:0},{input:"oint",tag:"mo",output:"∮",ttype:0},{input:"del",tag:"mo",output:"∂",tex:"partial",ttype:0},{input:"grad",tag:"mo",output:"∇",tex:"nabla",ttype:0},{input:"+-",tag:"mo",output:"±",tex:"pm",ttype:0},{input:"O/",tag:"mo",output:"∅",tex:"varnothing",ttype:0},{input:"oo",tag:"mn",output:"∞",tex:"infty",ttype:0},{input:"aleph",tag:"mo",output:"ℵ",ttype:0},{input:"...",tag:"mo",output:"...",tex:"ldots",ttype:0},{input:":.",tag:"mo",output:"∴",tex:"therefore",ttype:0},{input:":'",tag:"mo",output:"∵",tex:"because",ttype:0},{input:"/_",tag:"mo",output:"∠",tex:"angle",ttype:0},{input:"/_\\",tag:"mo",output:"△",tex:"triangle",ttype:0},{input:"\\ ",tag:"mtext",output:" ",tex:" ",ttype:0},{input:"quad",tag:"mo",output:"  ",tex:"quad",ttype:0},{input:"qquad",tag:"mo",output:"    ",tex:"qquad",ttype:0},{input:"cdots",tag:"mo",output:"⋯",ttype:0},{input:"vdots",tag:"mo",output:"⋮",ttype:0},{input:"ddots",tag:"mo",output:"⋱",ttype:0},{input:"diamond",tag:"mo",output:"⋄",ttype:0},{input:"square",tag:"mo",output:"□",ttype:0},{input:"|__",tag:"mo",output:"⌊",tex:"lfloor",ttype:0},{input:"__|",tag:"mo",output:"⌋",tex:"rfloor",ttype:0},{input:"|~",tag:"mo",output:"⌈",tex:"lceil",ttype:0},{input:"~|",tag:"mo",output:"⌉",tex:"rceil",ttype:0},{input:"CC",tag:"mo",output:"ℂ",tex:"mathbb{C}",ttype:0,notexcopy:!0},{input:"NN",tag:"mo",output:"ℕ",tex:"mathbb{N}",ttype:0,notexcopy:!0},{input:"QQ",tag:"mo",output:"ℚ",tex:"mathbb{Q}",ttype:0,notexcopy:!0},{input:"RR",tag:"mo",output:"ℝ",tex:"mathbb{R}",ttype:0,notexcopy:!0},{input:"ZZ",tag:"mo",output:"ℤ",tex:"mathbb{Z}",ttype:0,notexcopy:!0},{input:"'",tag:"mo",output:"′",tex:"^\\prime",ttype:0,nobackslash:!0},{input:"''",tag:"mo",output:"″",ttype:0,tex:"^{\\prime\\prime}",nobackslash:!0},{input:"'''",tag:"mo",output:"‴",ttype:0,tex:"^{\\prime\\prime\\prime}",nobackslash:!0},{input:"!!",tag:"mo",output:"!!",ttype:1,rfunc:!0,nobackslash:!0},{input:"!",tag:"mo",output:"!",ttype:1,rfunc:!0,nobackslash:!0},{input:"f",tag:"mi",output:"f",ttype:1,func:!0,nobackslash:!0},{input:"g",tag:"mi",output:"g",ttype:1,func:!0,nobackslash:!0},{input:"lim",tag:"mo",output:"lim",ttype:7},{input:"sin",tag:"mo",output:"sin",ttype:1,func:!0},{input:"cos",tag:"mo",output:"cos",ttype:1,func:!0},{input:"tan",tag:"mo",output:"tan",ttype:1,func:!0},{input:"sinh",tag:"mo",output:"sinh",ttype:1,func:!0},{input:"cosh",tag:"mo",output:"cosh",ttype:1,func:!0},{input:"tanh",tag:"mo",output:"tanh",ttype:1,func:!0},{input:"cot",tag:"mo",output:"cot",ttype:1,func:!0},{input:"sec",tag:"mo",output:"sec",ttype:1,func:!0},{input:"csc",tag:"mo",output:"csc",ttype:1,func:!0},{input:"arcsin",tag:"mo",output:"arcsin",ttype:1,func:!0},{input:"arccos",tag:"mo",output:"arccos",ttype:1,func:!0},{input:"arctan",tag:"mo",output:"arctan",ttype:1,func:!0},{input:"coth",tag:"mo",output:"coth",ttype:1,func:!0},{input:"sech",tag:"mo",output:"sech",ttype:1,func:!0},{input:"csch",tag:"mo",output:"csch",ttype:1,func:!0},{input:"exp",tag:"mo",output:"exp",ttype:1,func:!0},{input:"log",tag:"mo",output:"log",ttype:1,func:!0},{input:"ln",tag:"mo",output:"ln",ttype:1,func:!0},{input:"det",tag:"mo",output:"det",ttype:1,func:!0},{input:"dim",tag:"mo",output:"dim",ttype:0},{input:"gcd",tag:"mo",output:"gcd",ttype:1,func:!0},{input:"lcm",tag:"mo",output:"lcm",tex:"text{lcm}",ttype:1,func:!0,notexcopy:!0},{input:"min",tag:"mo",output:"min",ttype:7},{input:"max",tag:"mo",output:"max",ttype:7},{input:"Sup",tag:"mo",output:"sup",tex:"text{sup}",ttype:7},{input:"inf",tag:"mo",output:"inf",ttype:7},{input:"mod",tag:"mo",output:"mod",tex:"text{mod}",ttype:0,notexcopy:!0},{input:"sgn",tag:"mo",output:"sgn",tex:"text{sgn}",ttype:1,func:!0,notexcopy:!0},{input:"lub",tag:"mo",output:"lub",ttype:0},{input:"glb",tag:"mo",output:"glb",ttype:0},{input:"abs",tag:"mo",output:"abs",ttype:1,rewriteLR:["|","|"]},{input:"norm",tag:"mo",output:"norm",ttype:1,rewriteLR:["\\|","\\|"]},{input:"floor",tag:"mo",output:"floor",ttype:1,rewriteLR:["\\lfloor","\\rfloor"]},{input:"ceil",tag:"mo",output:"ceil",ttype:1,rewriteLR:["\\lceil","\\rceil"]},{input:"uarr",tag:"mo",output:"↑",tex:"uparrow",ttype:0},{input:"darr",tag:"mo",output:"↓",tex:"downarrow",ttype:0},{input:"rarr",tag:"mo",output:"→",tex:"rightarrow",ttype:0},{input:"->",tag:"mo",output:"→",tex:"to",ttype:0},{input:">->",tag:"mo",output:"↣",tex:"rightarrowtail",ttype:0},{input:"->>",tag:"mo",output:"↠",tex:"twoheadrightarrow",ttype:0},{input:">->>",tag:"mo",output:"⤖",tex:"twoheadrightarrowtail",ttype:0},{input:"|->",tag:"mo",output:"↦",tex:"mapsto",ttype:0},{input:"larr",tag:"mo",output:"←",tex:"leftarrow",ttype:0},{input:"harr",tag:"mo",output:"↔",tex:"leftrightarrow",ttype:0},{input:"rArr",tag:"mo",output:"⇒",tex:"Rightarrow",ttype:0},{input:"lArr",tag:"mo",output:"⇐",tex:"Leftarrow",ttype:0},{input:"hArr",tag:"mo",output:"⇔",tex:"Leftrightarrow",ttype:0},{input:"curvArrLt",tag:"mo",output:"↶",tex:"curvearrowleft",ttype:0},{input:"curvArrRt",tag:"mo",output:"↷",tex:"curvearrowright",ttype:0},{input:"circArrLt",tag:"mo",output:"↺",tex:"circlearrowleft",ttype:0},{input:"circArrRt",tag:"mo",output:"↻",tex:"circlearrowright",ttype:0},{input:"sqrt",tag:"msqrt",output:"sqrt",ttype:1},{input:"root",tag:"mroot",output:"root",ttype:2},{input:"frac",tag:"mfrac",output:"/",ttype:2},{input:"/",tag:"mfrac",output:"/",ttype:3},{input:"_",tag:"msub",output:"_",ttype:3},{input:"^",tag:"msup",output:"^",ttype:3},{input:"stackrel",tag:"mover",output:"stackrel",ttype:2},{input:"overset",tag:"mover",output:"stackrel",ttype:2},{input:"underset",tag:"munder",output:"stackrel",ttype:2},{input:"hat",tag:"mover",output:"^",ttype:1,acc:!0},{input:"widehat",tag:"mover",output:"^",ttype:1,acc:!0},{input:"arc",tag:"mover",output:"⏜",tex:"stackrel{\\frown}",ttype:1,acc:!0},{input:"bar",tag:"mover",output:"¯",tex:"overline",ttype:1,acc:!0},{input:"vec",tag:"mover",output:"→",ttype:1,acc:!0},{input:"tilde",tag:"mover",output:"~",ttype:1,acc:!0},{input:"dot",tag:"mover",output:".",ttype:1,acc:!0},{input:"ddot",tag:"mover",output:"..",ttype:1,acc:!0},{input:"ul",tag:"munder",output:"̲",tex:"underline",ttype:1,acc:!0},{input:"underbrace",tag:"munder",output:"⏟",ttype:15,acc:!0},{input:"overbrace",tag:"mover",output:"⏞",ttype:15,acc:!0},{input:"color",tag:"mstyle",ttype:2},{input:"phantom",tag:"mphantom",ttype:1},{input:"text",tag:"mtext",output:"text",ttype:10},{input:"mbox",tag:"mtext",output:"mbox",ttype:10},{input:'"',tag:"mtext",output:"mbox",ttype:10},{input:"op",tag:"mo",output:"operatorname",tex:"operatorname",ttype:1},{input:"cancel",tag:"menclose",output:"cancel",ttype:1,atname:"notation",atval:"updiagonalstrike"},{input:"bb",tag:"mstyle",atname:"mathvariant",atval:"bold",output:"bb",tex:"mathbf",ttype:1},{input:"sf",tag:"mstyle",atname:"mathvariant",atval:"sans-serif",output:"sf",tex:"mathsf",ttype:1},{input:"bbb",tag:"mstyle",atname:"mathvariant",atval:"double-struck",output:"bbb",tex:"mathbb",ttype:1},{input:"cc",tag:"mstyle",atname:"mathvariant",atval:"script",output:"cc",tex:"mathcal",ttype:1},{input:"scr",tag:"mstyle",atname:"mathvariant",atval:"script",output:"scr",tex:"mathscr",ttype:1},{input:"tt",tag:"mstyle",atname:"mathvariant",atval:"monospace",output:"tt",tex:"mathtt",ttype:1},{input:"fr",tag:"mstyle",atname:"mathvariant",atval:"fraktur",output:"fr",tex:"mathfrak",ttype:1},{input:"bm",tag:"mstyle",atname:"mathvariant",atval:"bold-italic",output:"bm",tex:"boldsymbol",ttype:1},{input:"rm",tag:"mstyle",atname:"mathvariant",atval:"serif",output:"rm",tex:"mathrm",ttype:1},{input:"iint",tag:"mo",output:"∬",ttype:0},{input:"iiint",tag:"mo",output:"∭",ttype:0},{input:"oiint",tag:"mo",output:"∯",ttype:0,nobackslash:!0},{input:"oiiint",tag:"mo",output:"∰",ttype:0,nobackslash:!0},{input:"laplace",tag:"mtext",output:"Δ",tex:"Delta",ttype:0,notexcopy:!0},{input:"==",tag:"mo",output:"══",tex:"xlongequal",ttype:7},{input:"||",tag:"mo",output:"∥",tex:"Vert",ttype:0},{input:"!||",tag:"mo",output:"∦",ttype:0,nobackslash:!0},{input:"S=",tag:"mo",output:"≌",ttype:0,nobackslash:!0},{input:"S~",tag:"mo",output:"∽",ttype:0,nobackslash:!0},{input:"!-=",tag:"mo",output:"≢",tex:"not\\equiv",ttype:0},{input:"!|",tag:"mo",output:"∤",ttype:0,nobackslash:!0},{input:"!sube",tag:"mo",output:"⊈",ttype:0,nobackslash:!0},{input:"!supe",tag:"mo",output:"⊉",ttype:0,nobackslash:!0},{input:"subne",tag:"mo",output:"⊊",ttype:0,nobackslash:!0},{input:"supne",tag:"mo",output:"⊋",ttype:0,nobackslash:!0},{input:"lhd",tag:"mo",output:"⊲",tex:"lhd",ttype:0},{input:"rhd",tag:"mo",output:"⊳",tex:"rhd",ttype:0},{input:"normal",tag:"mo",output:"⊴",tex:"unlhd",ttype:0},{input:"rnormal",tag:"mo",output:"⊵",tex:"unrhd",ttype:0},...asciimath.symbols||[]];const m=/\(|\[|\{/,l=/\)|\]|\}/;function r(t){return i(t=" "===t[0]?t.slice(1):t)?t:"{"+t+"}"}function i(u){if("{"===u[0]&&"}"===u.slice(-1)){let e=0;for(let t=0;t<u.length;++t)if("{"===u[t]?++e:"}"===u[t]&&--e,0===e)return t===u.length-1}}const u={init(){return x()},strip(t){var e;return!t.firstChild||"mrow"!==t.nodeName&&"M:MROW"!==t.nodeName||((e=t.firstChild.firstChild)&&m.test(e.nodeValue)&&t.removeChild(t.firstChild),(e=t.lastChild.firstChild)&&l.test(e.nodeValue)&&t.removeChild(t.lastChild)),t},consts(t){return h(t.tag,t.output)},leftBracket(t,e){return t.invisible?h("mrow",e):h("mrow",[h("mo",t.output),e])},text(t,e){var u=[];return" "===e[0]&&u.push(f()),u.push(h(t.tag,e))," "===e.slice(-1)&&u.push(f()),h("mrow",u)},directOutput(t){return h(t.tag,t.output)},moOutput(t){return h("mo",t.input)},func(t,e){return h("mrow",[h(t.tag,t.output),e])},unary(t,e,u){return"op"===t.input?h("mo",g.arg(u)):"sqrt"===t.input?h(t.tag,e):t.rewriteLR?h("mrow",[h("mo",t.rewriteLR[0]),e,h("mo",t.rewriteLR[1])]):t.acc?h(t.tag,[e,h("mo",t.output)]):((u=h(t.tag,e)).setAttribute(t.atname,t.atval),u)},binary(t,e,u,p){return"color"===t.input?((node=h(t.tag,u)).setAttribute("mathcolor",g.arg(p)),node):"root"===t.input||"stackrel"===t.output?h(t.tag,[u,e]):"frac"===t.input?h(t.tag,[e,u]):void 0},infixOutput(t){return h("mo",t.output)},space(t){return h("mrow",[f(),h(t.tag,t.output),f()])},leftRight(t,e,u){return"|"===(e.lastChild?e.lastChild.firstChild.nodeValue:"")?h("mrow",[h("mo",t.output),e]):(s.begin=u,h("mo","|"))},rfunc(t,e){return h("mrow",[e,h("mo",t.output)])},infix(t,e,u,p,o,i,n,a){return h("mrow",h(a?"munderover":"msubsup",n?[p,o,i]:[p,i,o]))},infixHalf(t,e,u,p,o,i){return h(o?i?"munder":"msub":i?"mover":"msup",[u,p])},infixFunc(t,e){return h("mrow",[t,e])},placeholder(){return h("mo","□")},infixNode(t,e){return e},push(t,e,u,p){p?e.appendChild(h(t.tag,[u,p])):e.appendChild(u)},matrix(p,o){let e=!1;for(let t=0;t<o.childNodes.length;++t)if(o.childNodes[t].firstChild&&";"===o.childNodes[t].firstChild.nodeValue){e=!0;break}if(e){let t=x(),e=x(),u=x();for(;o.firstChild;){var i=o.firstChild,n=i.firstChild&&i.firstChild.nodeValue;";"===n?(o.removeChild(i),e.appendChild(h("mtd",u)),u=x(),t.appendChild(h("mtr",e)),e=x()):","===n?(o.removeChild(i),e.appendChild(h("mtd",u)),u=x()):u.appendChild(i)}u.firstChild&&e.appendChild(h("mtd",u)),e.firstChild&&t.appendChild(h("mtr",e)),node=h("mtable",t),p.invisible&&(node.setAttribute("columnalign","left"),node.setAttribute("displaystyle","true")),o.appendChild(node)}},closeMatrix(t,e){e.appendChild(h("mo",t.output))},join(t,e){return t}},p={init(){return[]},strip(u){if("{"===u[0]&&"}"===u.slice(-1)){let t=0,e;u.startsWith("\\left",1)?m.test(u.charAt(6))?t=7:u.startsWith("\\lbrace",6)&&(t=13):"("!==(e=u.charAt(1))&&"["!==e||(t=2),0<t&&("\\right)}"===(e=u.slice(-8))||"\\right]}"===e||"\\right.}"===e?u=r(u.slice(t,-8)):"\\rbrace}"===e&&(u=r(u.slice(t,-14))))}return u},consts(t){var e=g.texSymbol(t);return"\\"===e[0]||"mo"===t.tag?e:" "+e},leftBracket(t,e){return/^\\right[.)\]]/.test(e)?(e="."===e[6]?e.slice(7):e.slice(6),t.invisible?r(e):r(g.texCtrl(t)+e)):t.invisible?"{\\left."+e+"}":"{\\left"+g.texCtrl(t)+e+"}"},text(t,e){return(" "===(e=e.replace(/{/g,"\\{").replace(/}/g,"\\}"))[0]?"\\ ":"")+"\\text{"+e+"}"+(" "===e.slice(-1)?"\\ ":"")},directOutput(t){return r(g.texSymbol(t))},moOutput(t){return r(g.texSymbol(t))},func(t,e){return" "+g.texSymbol(t)+r(e)},unary(t,e){return"sqrt"===t.input?"\\sqrt"+r(e):"cancel"===t.input?"\\cancel"+r(e):t.rewriteLR?"\\left"+t.rewriteLR[0]+e+"\\right"+t.rewriteLR[1]:t.atname?"{"+g.texSymbol(t)+r(e)+"}":g.texSymbol(t)+r(e)},binary(t,e,u,p){return"color"===t.input?`{\\color${r(g.arg(p))}${u}}`:"root"===t.input?`\\sqrt[${e}]{${u}}`:"stackrel"===t.output?g.texSymbol(t)+r(e)+r(u):"frac"===t.input?"\\frac"+r(e)+r(u):void 0},infixOutput(t){return t.output},space(t){return"\\quad\\text{"+t.input+"}\\quad"},leftRight(t,e,u){return"|"===e.slice(-1)?"{\\left|"+e+"}":(s.begin=u,"\\mid")},rfunc(t,e){return r(e+t.output)},infix(t,e,u,p,o,i,n,a){return"=="===t.input?n?`\\xlongequal[${o}]`+r(i):`\\xlongequal[${i}]`+r(o):p+e.input+r(o)+u.input+r(i)},infixHalf(t,e,u,p,o,i){return"=="===t.input?u+(o?`[${p}]{}`:r(p)):u+e.input+r(p)},infixFunc(t,e){return r(t+e)},placeholder(){return"{\\square}"},infixNode(t,e){return"=="===t.input?e+"{}":e},push(t,e,u,p){p?(i(u)||(u=r(u)),i(p)||(p=r(p)),e.push("\\frac"+u+p)):e.push(u)},matrix(p,o){let t=!1;var i=o.join(""),n=i.length;let a=0,r=0;for(r=0;r<n;++r)if(m.test(i[r]))++a;else if(l.test(i[r]))--a;else if(";"===i[r]&&0===a){t=!0;break}if(t){let t="",e=0,u=[];for(a=0,r=0;r<n;++r)m.test(i[r])?++a:l.test(i[r])?--a:";"===i[r]&&0===a?(u.push(i.slice(e,r)),e=r+1,t+=u.join("&")+"\\\\",u=[]):","===i[r]&&0===a&&(u.push(i.slice(e,r)),e=r+1);e<r&&u.push(i.slice(e,r)),0<u.length&&(t+=u.join("&")+"\\\\"),p.invisible&&"browser"===s.env?o[0]="\\begin{matrix*}[l]"+t+"\\end{matrix*}":o[0]="\\begin{matrix}"+t+"\\end{matrix}"}else o[0]=i;o.length=1},closeMatrix(t,e){e.push("\\right"+g.texCtrl(t))},join(t,e){return 0<s.nestingDepth&&!e&&t.push("\\right."),t.join("")}},g={yields:u,init(t){for(const e of s.define)t=t.replace(e[0],e[1]);s.nestingDepth=0,s.str=t.trimLeft(),s.begin=0},skip(t){for(t&&(s.begin+=t);s.str.charCodeAt(s.begin)<=32;)++s.begin},arg(t){let e;return"{"===s.str[t]?e=s.str.indexOf("}",t+1):"("===s.str[t]?e=s.str.indexOf(")",t+1):"["===s.str[t]&&(e=s.str.indexOf("]",t+1)),-1===e&&(e=s.str.length),s.str.slice(t+1,e)},textArg(t){let e;return"{"===s.str[t]?e=s.str.indexOf("}",t+1):"("===s.str[t]?e=s.str.indexOf(")",t+1):"["===s.str[t]?e=s.str.indexOf("]",t+1):'"'===s.str[t]&&(e=s.str.indexOf('"',t+1)),-1===e&&(e=s.str.length),s.str.slice(t+1,e)},texCtrl(t){return t.tex?"\\"+t.tex:t.input},texSymbol(t){return t.nobackslash?t.tex||t.output:"\\"+(t.tex||t.input)},symbol(){let u,t=s.names,e=s.begin,p=s.str.length;for(;e<p&&(t=t[s.str[e++]]);)t["\0"]&&(u=t["\0"]);if(s.prevSym=s.curSym,u)s.curSym=u.ttype;else{s.curSym=0;let t,e;var o=s.str.slice(s.begin).match(/^\d+(\.\d+)?/);e=o?(t=o[0],"mn"):(o=s.str.codePointAt(s.begin),t=isNaN(o)?"":String.fromCodePoint(o),/[a-zA-Z]/.test(t)?"mi":19968<o?"mtext":"mo"),u={input:t,output:t,tag:e,ttype:0,nobackslash:!0},"-"===t&&3===s.prevSym&&(s.curSym=3,u.ttype=1,u.func=!0)}return u},simple(){let t,e,u,p=g.symbol();if(!p||5===p.ttype&&0<s.nestingDepth)return null;var o=p.input.length;switch(p.ttype){case 7:case 0:return g.skip(o),g.yields.consts(p);case 4:return g.skip(o),++s.nestingDepth,t=g.expr(!0),--s.nestingDepth,g.yields.leftBracket(p,t);case 10:return'"'!=p.input&&g.skip(o),e=g.textArg(s.begin),s.begin+=e.length+2,g.skip(),g.yields.text(p,e);case 15:case 1:return(g.skip(o),u=s.begin,t=g.simple())?p.func?(e=s.str.charAt(u),/\^|_|\/|\||,/.test(e)||1===o&&/\w/.test(p.input)&&"("!=e?(s.begin=u,g.yields.directOutput(p)):g.yields.func(p,t)):(t=g.yields.strip(t),g.yields.unary(p,t,u)):(s.begin=u,g.yields.directOutput(p));case 2:if(g.skip(o),u=s.begin,!(t=g.simple()))return g.yields.moOutput(p);t=g.yields.strip(t);var i=g.simple();return i?(i=g.yields.strip(i),g.yields.binary(p,t,i,u)):g.yields.moOutput(p);case 3:return g.skip(o),g.yields.infixOutput(p);case 6:return g.skip(o),g.yields.space(p);case 9:return g.skip(o),u=s.begin,s.nestingDepth++,t=g.expr(!1),s.nestingDepth--,g.yields.leftRight(p,t,u);default:return g.skip(o),g.yields.directOutput(p)}},infix(){g.skip();var t=g.symbol();let e=g.simple();var u=g.symbol(),p=7===t.ttype||15===t.ttype;if(u.rfunc)return g.skip(u.input.length),g.yields.rfunc(u,e);if(3!==u.ttype||"/"===u.input)return g.yields.infixNode(t,e);g.skip(u.input.length);let o=g.simple();o=o?g.yields.strip(o):g.yields.placeholder();var i,n=g.symbol(),a="_"===u.input,n=(e=n.input===(a?"^":"_")?(g.skip(n.input.length),i=g.simple(),i=g.yields.strip(i),g.yields.infix(t,u,n,e,o,i,a,p)):g.yields.infixHalf(t,u,e,o,a,p),g.symbol());return n.rfunc&&(g.skip(n.input.length),e=g.yields.rfunc(n,e)),e},expr(t){let e=!1,u;var p=g.yields.init();do{g.skip();let t=g.infix(),e=t;"/"===(u=g.symbol()).input&&3===u.ttype?(g.skip(u.input.length),t=(t=g.infix())?g.yields.strip(t):g.yields.placeholder(),e=g.yields.strip(e),g.yields.push(u,p,e,t),u=g.symbol()):e&&g.yields.push(u,p,e)}while((5!==u.ttype&&(9!==u.ttype||t)||0===s.nestingDepth)&&null!=u&&""!=u.output);return 5!==u.ttype&&9!==u.ttype||(g.skip(u.input.length),g.yields.matrix(u,p),u.invisible)||(g.yields.closeMatrix(u,p),e=!0),g.yields.join(p,e)}};function n(t,e){return console.error(t+"\n",e),x("<span>",{className:"katex-error",innerText:"AM parse error"})}function t(e){g.yields=u,g.init(e);let t;try{t=h("mstyle",g.expr(!1))}catch(t){return n(e,t)}return s.color&&t.setAttribute("mathcolor",s.color),s.fontfamily&&t.setAttribute("fontfamily",s.fontfamily),s.displaystyle&&t.setAttribute("displaystyle","true"),t=h("math",t),s.viewsource&&t.setAttribute("title",e),t}let a=t;function y(t,e=s.displaystyle){var u;return g.yields=p,e&&/\n\n/.test(t)?s.texstr=(u=y,"\\begin{aligned}"+t.split(/\n{2,}/g).map(t=>t.includes("&")?u(t):"& "+u(t)).join(" \\\\ ")+"\\end{aligned}"):(g.init(t),t=[],s.color&&t.push("\\"+s.color),t.push(e?"\\displaystyle ":"\\textstyle "),t.push(g.expr(!1).replace(/(\$|%)/g,"\\$1")),s.texstr=t.join(""))}function c(e){let u,t;try{t=y(e),u=x("<span>",t)}catch(t){return n(e,t)}try{katex.render(t,u);var p=u.querySelectorAll("annotation")[0];p.textContent="$"+p.textContent+"$"}catch(t){u.className="katex-error",u.innerText="KaTeX parse error",console.error(e,t)}return u}function e(u){if("math"===u.nodeName||8===u.nodeType||/form|textarea|script/i.test(u.parentNode.nodeName))return 0;if(0<u.childNodes.length)for(let t=0;t<u.childNodes.length;t++)t+=e(u.childNodes[t]);{var p=u;let t=p.nodeValue;if(!t)return 0;let e=!1;var o=(t=t.replace(s.esc1,()=>(e=!0,"AMesc1"))).split(s.delim1);if(!e&&o.length<=1)return 0;o.length%2==0&&console.warn("formula not closed:",t);var i=x();for(let t=0;t<o.length;++t){var n=o[t].replace(/AMesc1/g,s.delim1);i.appendChild(t%2?a(n):document.createTextNode(n))}return p.parentNode.replaceChild(i,p),o.length-1}}function d(e,t){Array.isArray(t)?t.forEach(t=>e.appendChild(t)):e.appendChild(t)}function x(t,p={},e=[]){var u=t&&t.length;const o=t?"#"===t[0]?document.getElementById(t.slice(1)):"."===t[0]?document.getElementsByClassName(t.slice(1)):"<"===t[0]&&">"===t[u-1]?p.namespace?document.createElementNS(namespace,t.slice(1,u-1)):document.createElement(t.slice(1,u-1)):document.getElementsByTagName(t):document.createDocumentFragment();return"string"==typeof p?o.innerText=p:(Object.keys(p).forEach(t=>{const u=p[t];"className"===t?Array.isArray(u)?u.forEach(t=>o.classList.add(t)):o.classList.add(u):"attrs"===t?Object.keys(u).forEach(t=>o.setAttribute(t,u[t])):"on"===t?Object.keys(u).forEach(t=>{var e=t.split(".");o.addEventListener(e[0],u[t].bind(p),"true"===e[1])}):"style"===t?Object.assign(o.style,u):"function"==typeof u?o[t]=u.bind(p):"namespace"!==t&&(o[t]=u)}),p.el=o),d(o,e),o}function h(t,e=[]){t=document.createElementNS("http://www.w3.org/1998/Math/MathML",t);return d(t,e="string"==typeof e?document.createTextNode(e):e),t}function f(){var t=h("mspace");return t.setAttribute("width","1ex"),t}function b(){if(o.forEach(t=>{t.tex&&!t.notexcopy&&o.push({...t,input:t.tex,tex:void 0,notexcopy:void 0})}),o.forEach(t=>{let e=s.names;t.input.split("").forEach(t=>{e=e[t]=e[t]||Object.create(null)}),e["\0"]=t}),s.delim1.replace(/(\(|\)|\[|\]|\{|\}|\$|\^|\/|\\|\||\.|\*|\+|\?)/g,"\\$1"),s.esc1=new RegExp("\\\\"+s.delim1,"g"),!s.katex&&(u=navigator.userAgent,!/chrome/i.test(u))&&/safari|firefox/i.test(u))return s.onload();var t,e;if(!1===s.katex){var u=x("<button>",{innerText:"×",style:{position:"absolute",right:"10px",top:"10px",border:"none",background:"transparent",cursor:"pointer"},onclick(){p.style.display="none"}});const p=x("<div>",{id:"AMnotify",style:{position:"absolute",top:"0",left:"0",right:"0",textAlign:"center",padding:"0.5em 2em",background:"#f99",fontFamily:"sans-serif",color:"#633"},innerHTML:'To view the ASCIIMathML notation, use lastest version of Mozilla Firefox or Safari.To support other browsers, please include <a href="https://katex.org">katex.min.js</a>.'},u);document.body.append(p)}else s.katex=!0,a=c,"browser"===s.env&&(t="https://unpkg.com/katex@0.13.0/dist/katex.min.css",e="sha256-gPJfuwTULrEAAcI3X4bALVU/2qBU+QY/TpoD3GO+Exw=",document.head.appendChild(x("<link>",{attrs:{href:t,rel:"stylesheet",...e?{crossorigin:"anonymous",integrity:e}:{}}})),[t,e=null]=[s.katexpath,s.onload],document.body.appendChild(x("<script>",{src:t,onload:e})))}"undefined"==typeof document?(s.env="nodejs",s.katex=!0,s.displaystyle=!0,s.define.push([/&#(x?[0-9a-fA-F]+);/g,(t,e)=>String.fromCodePoint("x"===e[0]?"0"+e:e)]),b()):"undefined"!=typeof chrome&&chrome.extension?(s.env="extension",s.katex=!0,s.displaystyle=!0,b()):"undefined"!=typeof Word?s.env="word":(s.env="browser",window.addEventListener("load",b,!1)),s.render=e,s.am2tex=y,s.am2mathml=t,s.init=b}(),"undefined"!=typeof module&&(module.exports=asciimath);
